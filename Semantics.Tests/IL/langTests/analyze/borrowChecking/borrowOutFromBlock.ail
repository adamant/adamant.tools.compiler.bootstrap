package default

public class Test
{
}

public function func() -> %0: &default::Test$owned
{
    let %1: &default::Test // y
    let %2: &default::Test$owned // x

    bb0:
    {
        %2 = new default::Test()
        %1 = %2 // $1 = $2
        delete ^%2 // Thus both $1 and $2 are unusable // kills %2
        %0 = %1 // But then we try to use $1 // kills %1
        return
    }
}
